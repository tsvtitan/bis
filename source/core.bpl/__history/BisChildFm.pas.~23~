unit BisChildFm;

interface

uses
  Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
  Dialogs, BisFm;

type
  TBisChildForm = class(TBisForm)
  private

  protected
    procedure DoClose(var Action: TCloseAction); override;
  public
    procedure BeforeShow; override;
  end;

  TBisChildIface=class(TBisFormIface)
  protected
    function GetFormClass: TBisFormClass; override;
  end;

var
  BisChildForm: TBisChildForm;

implementation

{$R *.dfm}

{ TBisChildIface }

function TBisChildIface.GetFormClass: TBisFormClass; 
begin
  Result:=TBisChildForm;
end;

{ TBisChildForm }

procedure TBisChildForm.BeforeShow;
begin
  inherited BeforeShow;
  FormStyle:=fsMDIChild;
end;

procedure TBisChildForm.DoClose(var Action: TCloseAction); 
begin
  Action:=caFree;
  inherited DoClose(Action);
  if Assigned(Iface) and (Action=caFree) then
    Iface.Forms.RemoveWithOutFree(Self);
end;


end.
